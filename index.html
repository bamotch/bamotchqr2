<!DOCTYPE html>
<html lang="fr-FR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO -->
    <title>BAMOTCH QR - G√©n√©rateur Avanc√© de QR Codes avec Designs Premium</title>
    <meta name="description" content="Cr√©ez des QR codes UNIQUES avec BAMOTCH QR ! Designs avanc√©s, formes sp√©ciales, d√©grad√©s, logos int√©gr√©s. 100% gratuit, sans inscription.">
    <meta name="google-site-verification" content="XKy3Fr-HEMcKIKwbjUfpOGSdpo6t2Rig0zFlpg0MlNU" />
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" defer></script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé®</text></svg>">
    <meta name="theme-color" content="#6a11cb">
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-qrcode"></i>
                <h1>BAMOTCH <span class="highlight">QR</span></h1>
                <span class="version">ULTIME</span>
            </div>
            <nav class="nav">
                <button class="nav-btn" id="theme-btn" title="Changer de th√®me">
                    <i class="fas fa-moon"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- HERO -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>Cr√©ez des QR Codes <span class="gradient-text">STYL√âS & UNIQUES</span></h2>
                <p class="subtitle">Personnalisez chaque d√©tail avec notre g√©n√©rateur avanc√©</p>
                
                <div class="hero-stats">
                    <div class="stat">
                        <i class="fas fa-shapes"></i>
                        <span>15+ Formes</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-palette"></i>
                        <span>30+ Couleurs</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-star"></i>
                        <span>10+ Motifs</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-image"></i>
                        <span>Logo int√©gr√©</span>
                    </div>
                </div>
                
                <button id="start-btn" class="btn-hero">
                    <i class="fas fa-rocket"></i> Commencer Gratuitement
                </button>
            </div>
        </div>
    </section>

    <!-- GENERATOR -->
    <main class="container">
        <div class="generator" id="generator">
            <div class="generator-grid">
                <!-- LEFT: CONFIGURATION -->
                <div class="config-section">
                    <!-- Content Type -->
                    <div class="card">
                        <h3><i class="fas fa-edit"></i> Type de contenu</h3>
                        
                        <div class="content-tabs">
                            <button class="content-tab active" data-type="text">
                                <i class="fas fa-font"></i> Texte
                            </button>
                            <button class="content-tab" data-type="url">
                                <i class="fas fa-link"></i> Lien
                            </button>
                            <button class="content-tab" data-type="wifi">
                                <i class="fas fa-wifi"></i> Wi-Fi
                            </button>
                            <button class="content-tab" data-type="contact">
                                <i class="fas fa-address-card"></i> Contact
                            </button>
                            <button class="content-tab coming-soon" data-type="image">
                                <i class="fas fa-image"></i> Image
                                <span class="badge">Bient√¥t</span>
                            </button>
                            <button class="content-tab coming-soon" data-type="video">
                                <i class="fas fa-video"></i> Vid√©o
                                <span class="badge">Bient√¥t</span>
                            </button>
                            <button class="content-tab coming-soon" data-type="audio">
                                <i class="fas fa-music"></i> Audio
                                <span class="badge">Bient√¥t</span>
                            </button>
                            <button class="content-tab coming-soon" data-type="pdf">
                                <i class="fas fa-file-pdf"></i> PDF
                                <span class="badge">Bient√¥t</span>
                            </button>
                        </div>
                        
                        <div class="content-forms">
                            <!-- Text Form -->
                            <div class="content-form active" id="text-form">
                                <div class="form-group">
                                    <label><i class="fas fa-align-left"></i> Votre texte</label>
                                    <textarea id="text-input" placeholder="Entrez votre texte ici..."></textarea>
                                </div>
                            </div>
                            
                            <!-- URL Form -->
                            <div class="content-form" id="url-form">
                                <div class="form-group">
                                    <label><i class="fas fa-globe"></i> URL du site</label>
                                    <input type="text" id="url-input" placeholder="https://exemple.com">
                                </div>
                            </div>
                            
                            <!-- Wi-Fi Form -->
                            <div class="content-form" id="wifi-form">
                                <div class="form-group">
                                    <label><i class="fas fa-network-wired"></i> Nom du r√©seau</label>
                                    <input type="text" id="wifi-ssid" placeholder="MonR√©seauWiFi">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label><i class="fas fa-shield-alt"></i> S√©curit√©</label>
                                        <select id="wifi-security">
                                            <option value="WPA">WPA/WPA2</option>
                                            <option value="WEP">WEP</option>
                                            <option value="nopass">Aucune</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label><i class="fas fa-key"></i> Mot de passe</label>
                                        <input type="text" id="wifi-password" placeholder="Votre mot de passe">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contact Form -->
                            <div class="content-form" id="contact-form">
                                <div class="form-group">
                                    <label><i class="fas fa-user"></i> Nom complet</label>
                                    <input type="text" id="contact-name" placeholder="John Doe">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label><i class="fas fa-phone"></i> T√©l√©phone</label>
                                        <input type="tel" id="contact-phone" placeholder="+33 1 23 45 67 89">
                                    </div>
                                    <div class="form-group">
                                        <label><i class="fas fa-envelope"></i> Email</label>
                                        <input type="email" id="contact-email" placeholder="contact@exemple.com">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Design Options -->
                    <div class="card">
                        <h3><i class="fas fa-paint-brush"></i> Design avanc√©</h3>
                        
                        <!-- Shape Selection -->
                        <div class="option-group">
                            <h4><i class="fas fa-shapes"></i> Forme des points</h4>
                            <div class="shape-grid">
                                <div class="shape-option active" data-shape="square">
                                    <div class="shape-preview square"></div>
                                    <span>Carr√©s</span>
                                </div>
                                <div class="shape-option" data-shape="circle">
                                    <div class="shape-preview circle"></div>
                                    <span>Ronds</span>
                                </div>
                                <div class="shape-option" data-shape="rounded">
                                    <div class="shape-preview rounded"></div>
                                    <span>Arrondis</span>
                                </div>
                                <div class="shape-option" data-shape="diamond">
                                    <div class="shape-preview diamond"></div>
                                    <span>Losanges</span>
                                </div>
                                <div class="shape-option" data-shape="heart">
                                    <div class="shape-preview heart"></div>
                                    <span>C≈ìurs</span>
                                </div>
                                <div class="shape-option" data-shape="star">
                                    <div class="shape-preview star"></div>
                                    <span>√âtoiles</span>
                                </div>
                                <div class="shape-option" data-shape="dot">
                                    <div class="shape-preview dot"></div>
                                    <span>Points fins</span>
                                </div>
                                <div class="shape-option" data-shape="line">
                                    <div class="shape-preview line"></div>
                                    <span>Tirets</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pattern Selection -->
                        <div class="option-group">
                            <h4><i class="fas fa-star"></i> Motifs sp√©ciaux</h4>
                            <div class="pattern-grid">
                                <div class="pattern-option active" data-pattern="solid">
                                    <div class="pattern-preview solid"></div>
                                    <span>Plein</span>
                                </div>
                                <div class="pattern-option" data-pattern="dots">
                                    <div class="pattern-preview dots"></div>
                                    <span>Pointill√©s</span>
                                </div>
                                <div class="pattern-option" data-pattern="grid">
                                    <div class="pattern-preview grid"></div>
                                    <span>Grille</span>
                                </div>
                                <div class="pattern-option" data-pattern="wave">
                                    <div class="pattern-preview wave"></div>
                                    <span>Vagues</span>
                                </div>
                                <div class="pattern-option" data-pattern="zigzag">
                                    <div class="pattern-preview zigzag"></div>
                                    <span>Zigzag</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Color Selection -->
                        <div class="option-group">
                            <h4><i class="fas fa-palette"></i> Couleurs & D√©grad√©s</h4>
                            <div class="color-grid">
                                <!-- Solid Colors -->
                                <div class="color-option active" data-type="solid" data-color="#000000" data-bg="#ffffff">
                                    <div class="color-preview" style="background: linear-gradient(135deg, #000000 50%, #ffffff 50%)"></div>
                                    <span>Noir/Blanc</span>
                                </div>
                                <div class="color-option" data-type="solid" data-color="#2c3e50" data-bg="#ecf0f1">
                                    <div class="color-preview" style="background: linear-gradient(135deg, #2c3e50 50%, #ecf0f1 50%)"></div>
                                    <span>Bleu Nuit</span>
                                </div>
                                <div class="color-option" data-type="solid" data-color="#27ae60" data-bg="#d5f4e6">
                                    <div class="color-preview" style="background: linear-gradient(135deg, #27ae60 50%, #d5f4e6 50%)"></div>
                                    <span>Vert √âmeraude</span>
                                </div>
                                <div class="color-option" data-type="solid" data-color="#9b59b6" data-bg="#f4ecf7">
                                    <div class="color-preview" style="background: linear-gradient(135deg, #9b59b6 50%, #f4ecf7 50%)"></div>
                                    <span>Violet Royal</span>
                                </div>
                                
                                <!-- Gradients -->
                                <div class="color-option" data-type="gradient" data-gradient="blue-purple">
                                    <div class="color-preview gradient blue-purple"></div>
                                    <span>Bleu-Violet</span>
                                </div>
                                <div class="color-option" data-type="gradient" data-gradient="sunset">
                                    <div class="color-preview gradient sunset"></div>
                                    <span>Couch√© de soleil</span>
                                </div>
                                <div class="color-option" data-type="gradient" data-gradient="ocean">
                                    <div class="color-preview gradient ocean"></div>
                                    <span>Oc√©an</span>
                                </div>
                                <div class="color-option" data-type="gradient" data-gradient="forest">
                                    <div class="color-preview gradient forest"></div>
                                    <span>For√™t</span>
                                </div>
                            </div>
                            
                            <!-- Custom Colors -->
                            <div class="custom-colors">
                                <div class="color-picker">
                                    <label><i class="fas fa-fill-drip"></i> Couleur QR</label>
                                    <input type="color" id="qr-color" value="#000000">
                                </div>
                                <div class="color-picker">
                                    <label><i class="fas fa-square-full"></i> Fond</label>
                                    <input type="color" id="qr-bg" value="#ffffff">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Logo Upload -->
                        <div class="option-group">
                            <h4><i class="fas fa-image"></i> Logo au centre</h4>
                            <div class="logo-upload-area" id="logo-dropzone">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>Glissez votre logo ici</p>
                                <p class="file-info">PNG, JPG - Max 1MB</p>
                                <input type="file" id="logo-file" accept="image/*" hidden>
                                <button class="btn-secondary" id="select-logo">
                                    <i class="fas fa-folder-open"></i> Choisir un fichier
                                </button>
                            </div>
                            <div class="logo-preview" id="logo-preview" style="display: none;">
                                <div class="preview-container">
                                    <img id="logo-img" src="" alt="Logo">
                                    <button class="remove-logo" id="remove-logo">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <div class="logo-details">
                                    <span id="logo-name">logo.png</span>
                                    <span id="logo-size">256 KB</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Advanced Settings -->
                        <div class="option-group">
                            <h4><i class="fas fa-sliders-h"></i> Options avanc√©es</h4>
                            <div class="advanced-grid">
                                <div class="setting">
                                    <label>
                                        <i class="fas fa-expand-alt"></i> Taille
                                        <span id="size-value">400px</span>
                                    </label>
                                    <input type="range" id="qr-size" min="200" max="800" value="400" step="50">
                                </div>
                                <div class="setting">
                                    <label>
                                        <i class="fas fa-shield-alt"></i> Correction
                                    </label>
                                    <select id="qr-error">
                                        <option value="L">Faible (7%)</option>
                                        <option value="M" selected>Moyenne (15%)</option>
                                        <option value="Q">√âlev√©e (25%)</option>
                                        <option value="H">Maximale (30%)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Generate Button -->
                    <button id="generate-btn" class="btn-generate">
                        <i class="fas fa-magic"></i> G√©n√©rer le QR Code
                    </button>
                </div>
                
                <!-- RIGHT: PREVIEW -->
                <div class="preview-section">
                    <!-- QR Preview -->
                    <div class="card preview-card">
                        <h3><i class="fas fa-eye"></i> Aper√ßu en direct</h3>
                        
                        <div class="qr-display">
                            <div id="qrcode"></div>
                            <div class="placeholder" id="qr-placeholder">
                                <i class="fas fa-qrcode"></i>
                                <h4>Votre QR Code</h4>
                                <p>Personnalisez les options et cliquez sur "G√©n√©rer"</p>
                            </div>
                        </div>
                        
                        <!-- QR Info -->
                        <div class="qr-info" id="qr-info" style="display: none;">
                            <div class="info-item">
                                <i class="fas fa-ruler"></i>
                                <div>
                                    <div class="info-label">Taille</div>
                                    <div class="info-value" id="info-size">400x400px</div>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-paint-brush"></i>
                                <div>
                                    <div class="info-label">Design</div>
                                    <div class="info-value" id="info-design">Carr√©s</div>
                                </div>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-shield"></i>
                                <div>
                                    <div class="info-label">Correction</div>
                                    <div class="info-value" id="info-error">15%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Download Options -->
                    <div class="card download-card">
                        <h3><i class="fas fa-download"></i> T√©l√©charger</h3>
                        
                        <div class="download-options">
                            <div class="format-buttons">
                                <button class="format-btn png" id="download-png" disabled>
                                    <i class="fas fa-file-image"></i>
                                    <div class="format-details">
                                        <div class="format-name">PNG</div>
                                        <div class="format-desc">Haute qualit√©</div>
                                    </div>
                                </button>
                                
                                <button class="format-btn svg" id="download-svg" disabled>
                                    <i class="fas fa-file-code"></i>
                                    <div class="format-details">
                                        <div class="format-name">SVG</div>
                                        <div class="format-desc">Vectoriel</div>
                                    </div>
                                </button>
                                
                                <button class="format-btn jpg" id="download-jpg" disabled>
                                    <i class="fas fa-file-image"></i>
                                    <div class="format-details">
                                        <div class="format-name">JPG</div>
                                        <div class="format-desc">Pour le web</div>
                                    </div>
                                </button>
                            </div>
                            
                            <!-- Size Presets -->
                            <div class="size-presets">
                                <h4><i class="fas fa-crop-alt"></i> Taille de sortie</h4>
                                <div class="size-buttons">
                                    <button class="size-btn active" data-size="400">400px</button>
                                    <button class="size-btn" data-size="600">600px</button>
                                    <button class="size-btn" data-size="800">800px</button>
                                    <button class="size-btn" data-size="1200">1200px</button>
                                </div>
                            </div>
                            
                            <!-- File Naming -->
                            <div class="file-naming">
                                <h4><i class="fas fa-font"></i> Nom du fichier</h4>
                                <div class="name-input">
                                    <input type="text" id="filename" value="mon-qr-code" placeholder="Nom de votre fichier">
                                    <div class="name-preview">
                                        <span id="name-preview">mon-qr-code.png</span>
                                        <button class="copy-btn" id="copy-name">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Coming Soon -->
                    <div class="card coming-soon-card">
                        <h3><i class="fas fa-rocket"></i> Fonctions √† venir</h3>
                        <div class="coming-soon-grid">
                            <div class="coming-feature">
                                <div class="feature-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                <div class="feature-details">
                                    <h4>QR Code avec Image</h4>
                                    <p>Encodez des images directement</p>
                                </div>
                            </div>
                            <div class="coming-feature">
                                <div class="feature-icon">
                                    <i class="fas fa-video"></i>
                                </div>
                                <div class="feature-details">
                                    <h4>QR Code avec Vid√©o</h4>
                                    <p>G√©n√©rez des QR vers vos vid√©os</p>
                                </div>
                            </div>
                            <div class="coming-feature">
                                <div class="feature-icon">
                                    <i class="fas fa-file-pdf"></i>
                                </div>
                                <div class="feature-details">
                                    <h4>QR Code avec PDF</h4>
                                    <p>Partagez vos documents PDF</p>
                                </div>
                            </div>
                            <div class="coming-feature">
                                <div class="feature-icon">
                                    <i class="fas fa-music"></i>
                                </div>
                                <div class="feature-details">
                                    <h4>QR Code avec Audio</h4>
                                    <p>Encodez des fichiers audio</p>
                                </div>
                            </div>
                        </div>
                        <div class="coming-soon-note">
                            <i class="fas fa-clock"></i>
                            <span>Disponible dans les prochaines mises √† jour</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <i class="fas fa-qrcode"></i>
                    <div>
                        <h3>BAMOTCH QR</h3>
                        <p>G√©n√©rateur avanc√© de QR codes</p>
                    </div>
                </div>
                
                <div class="footer-info">
                    <p>&copy; <span id="current-year">2024</span> BAMOTCH QR</p>
                    <p>D√©velopp√© par <strong>TAHIROU DESIGN STUDIO</strong></p>
                    <p class="privacy">
                        <i class="fas fa-lock"></i>
                        <span>Traitement 100% local ¬∑ Aucune donn√©e collect√©e</span>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- SCRIPT -->
    <script>
        // ========== INITIALISATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé® BAMOTCH QR ULTIME charg√© avec succ√®s!');
            
            // Mettre √† jour l'ann√©e
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // ========== VARIABLES ==========
            let currentQR = null;
            let currentContent = '';
            let currentLogo = null;
            let currentShape = 'square';
            let currentPattern = 'solid';
            let currentColorType = 'solid';
            let currentColor = '#000000';
            let currentBgColor = '#ffffff';
            let currentGradient = '';
            let downloadSize = 400;
            
            // ========== √âL√âMENTS DU DOM ==========
            const startBtn = document.getElementById('start-btn');
            const generator = document.getElementById('generator');
            const contentTabs = document.querySelectorAll('.content-tab');
            const contentForms = document.querySelectorAll('.content-form');
            const generateBtn = document.getElementById('generate-btn');
            const qrcodeDiv = document.getElementById('qrcode');
            const qrPlaceholder = document.getElementById('qr-placeholder');
            const qrInfo = document.getElementById('qr-info');
            const shapeOptions = document.querySelectorAll('.shape-option');
            const patternOptions = document.querySelectorAll('.pattern-option');
            const colorOptions = document.querySelectorAll('.color-option');
            const qrColorInput = document.getElementById('qr-color');
            const qrBgInput = document.getElementById('qr-bg');
            const qrSizeSlider = document.getElementById('qr-size');
            const sizeValue = document.getElementById('size-value');
            const infoSize = document.getElementById('info-size');
            const infoDesign = document.getElementById('info-design');
            const infoError = document.getElementById('info-error');
            const downloadPngBtn = document.getElementById('download-png');
            const downloadSvgBtn = document.getElementById('download-svg');
            const downloadJpgBtn = document.getElementById('download-jpg');
            const sizeButtons = document.querySelectorAll('.size-btn');
            const filenameInput = document.getElementById('filename');
            const namePreview = document.getElementById('name-preview');
            const copyNameBtn = document.getElementById('copy-name');
            const logoDropzone = document.getElementById('logo-dropzone');
            const logoFileInput = document.getElementById('logo-file');
            const selectLogoBtn = document.getElementById('select-logo');
            const logoPreview = document.getElementById('logo-preview');
            const logoImg = document.getElementById('logo-img');
            const logoName = document.getElementById('logo-name');
            const logoSize = document.getElementById('logo-size');
            const removeLogoBtn = document.getElementById('remove-logo');
            const themeBtn = document.getElementById('theme-btn');
            
            // ========== TH√àME ==========
            themeBtn.addEventListener('click', function() {
                document.body.classList.toggle('dark-theme');
                this.innerHTML = document.body.classList.contains('dark-theme') 
                    ? '<i class="fas fa-sun"></i>' 
                    : '<i class="fas fa-moon"></i>';
                showMessage('Th√®me chang√©');
            });
            
            // ========== BOUTON START ==========
            startBtn.addEventListener('click', function() {
                generator.scrollIntoView({ behavior: 'smooth' });
                this.classList.add('pulse');
                setTimeout(() => this.classList.remove('pulse'), 500);
                showMessage('üéâ Commencez √† cr√©er votre QR code !');
            });
            
            // ========== GESTION DES TABS ==========
            contentTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    if (this.classList.contains('coming-soon')) {
                        showMessage('üöÄ Cette fonctionnalit√© arrive bient√¥t !', 'info');
                        return;
                    }
                    
                    const type = this.getAttribute('data-type');
                    
                    // Mettre √† jour les tabs
                    contentTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Mettre √† jour les forms
                    contentForms.forEach(form => form.classList.remove('active'));
                    document.getElementById(`${type}-form`).classList.add('active');
                });
            });
            
            // ========== FORMES ==========
            shapeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    shapeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentShape = this.getAttribute('data-shape');
                    infoDesign.textContent = this.querySelector('span').textContent;
                    
                    if (currentQR) generateQRCode();
                });
            });
            
            // ========== MOTIFS ==========
            patternOptions.forEach(option => {
                option.addEventListener('click', function() {
                    patternOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentPattern = this.getAttribute('data-pattern');
                    
                    if (currentQR) generateQRCode();
                });
            });
            
            // ========== COULEURS ==========
            colorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    const type = this.getAttribute('data-type');
                    currentColorType = type;
                    
                    if (type === 'solid') {
                        currentColor = this.getAttribute('data-color');
                        currentBgColor = this.getAttribute('data-bg');
                        qrColorInput.value = currentColor;
                        qrBgInput.value = currentBgColor;
                    } else if (type === 'gradient') {
                        currentGradient = this.getAttribute('data-gradient');
                    }
                    
                    if (currentQR) generateQRCode();
                });
            });
            
            // ========== COULEURS PERSONNALIS√âES ==========
            qrColorInput.addEventListener('input', function() {
                currentColor = this.value;
                currentColorType = 'solid';
                colorOptions.forEach(opt => opt.classList.remove('active'));
                
                if (currentQR) generateQRCode();
            });
            
            qrBgInput.addEventListener('input', function() {
                currentBgColor = this.value;
                currentColorType = 'solid';
                colorOptions.forEach(opt => opt.classList.remove('active'));
                
                if (currentQR) generateQRCode();
            });
            
            // ========== TAILLE ==========
            qrSizeSlider.addEventListener('input', function() {
                const size = this.value;
                sizeValue.textContent = `${size}px`;
                infoSize.textContent = `${size}x${size}px`;
                
                if (currentQR) generateQRCode();
            });
            
            // ========== LOGO ==========
            selectLogoBtn.addEventListener('click', () => logoFileInput.click());
            logoDropzone.addEventListener('click', () => logoFileInput.click());
            
            logoDropzone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = '#6a11cb';
                this.style.background = 'rgba(106, 17, 203, 0.05)';
            });
            
            logoDropzone.addEventListener('dragleave', function() {
                this.style.borderColor = '';
                this.style.background = '';
            });
            
            logoDropzone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = '';
                this.style.background = '';
                if (e.dataTransfer.files[0]) handleLogoFile(e.dataTransfer.files[0]);
            });
            
            logoFileInput.addEventListener('change', function(e) {
                if (this.files[0]) handleLogoFile(this.files[0]);
            });
            
            function handleLogoFile(file) {
                // V√©rifier la taille
                if (file.size > 1024 * 1024) {
                    showMessage('Le logo est trop volumineux (max 1MB)', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentLogo = e.target.result;
                    logoImg.src = currentLogo;
                    logoName.textContent = file.name;
                    logoSize.textContent = formatFileSize(file.size);
                    logoPreview.style.display = 'flex';
                    
                    showMessage('Logo ajout√© avec succ√®s');
                    
                    if (currentQR) generateQRCode();
                };
                reader.readAsDataURL(file);
            }
            
            removeLogoBtn.addEventListener('click', function() {
                currentLogo = null;
                logoPreview.style.display = 'none';
                logoFileInput.value = '';
                showMessage('Logo supprim√©');
                
                if (currentQR) generateQRCode();
            });
            
            // ========== G√âN√âRATION ==========
            generateBtn.addEventListener('click', function() {
                // R√©cup√©rer le contenu
                const activeTab = document.querySelector('.content-tab.active');
                const type = activeTab ? activeTab.getAttribute('data-type') : 'text';
                let content = '';
                
                switch(type) {
                    case 'text':
                        content = document.getElementById('text-input').value.trim();
                        if (!content) {
                            showMessage('Veuillez entrer du texte', 'warning');
                            return;
                        }
                        break;
                        
                    case 'url':
                        let url = document.getElementById('url-input').value.trim();
                        if (!url) {
                            showMessage('Veuillez entrer une URL', 'warning');
                            return;
                        }
                        if (!url.startsWith('http')) url = 'https://' + url;
                        content = url;
                        break;
                        
                    case 'wifi':
                        const ssid = document.getElementById('wifi-ssid').value.trim();
                        const password = document.getElementById('wifi-password').value.trim();
                        const security = document.getElementById('wifi-security').value;
                        
                        if (!ssid) {
                            showMessage('Veuillez entrer le nom du r√©seau', 'warning');
                            return;
                        }
                        
                        if (security === 'nopass') {
                            content = `WIFI:S:${ssid};T:nopass;;`;
                        } else {
                            if (!password) {
                                showMessage('Veuillez entrer le mot de passe', 'warning');
                                return;
                            }
                            content = `WIFI:S:${ssid};T:${security};P:${password};;`;
                        }
                        break;
                        
                    case 'contact':
                        const name = document.getElementById('contact-name').value.trim();
                        const phone = document.getElementById('contact-phone').value.trim();
                        const email = document.getElementById('contact-email').value.trim();
                        
                        if (!name && !phone && !email) {
                            showMessage('Veuillez entrer au moins une information', 'warning');
                            return;
                        }
                        
                        let vcard = 'BEGIN:VCARD\nVERSION:3.0\n';
                        if (name) vcard += `FN:${name}\n`;
                        if (phone) vcard += `TEL:${phone}\n`;
                        if (email) vcard += `EMAIL:${email}\n`;
                        vcard += 'END:VCARD';
                        content = vcard;
                        break;
                }
                
                currentContent = content;
                generateQRCode();
            });
            
            function generateQRCode() {
                qrcodeDiv.innerHTML = '';
                qrPlaceholder.style.display = 'none';
                qrInfo.style.display = 'flex';
                
                const size = parseInt(qrSizeSlider.value);
                const errorLevel = document.getElementById('qr-error').value;
                
                try {
                    currentQR = new QRCode(qrcodeDiv, {
                        text: currentContent,
                        width: size,
                        height: size,
                        colorDark: getQRColor(),
                        colorLight: currentBgColor,
                        correctLevel: QRCode.CorrectLevel[errorLevel]
                    });
                    
                    qrcodeDiv.style.display = 'block';
                    
                    // Appliquer les effets visuels
                    setTimeout(applyVisualEffects, 100);
                    
                    // Activer les t√©l√©chargements
                    downloadPngBtn.disabled = false;
                    downloadSvgBtn.disabled = false;
                    downloadJpgBtn.disabled = false;
                    
                    // Mettre √† jour les infos
                    const errorText = {
                        'L': '7%',
                        'M': '15%',
                        'Q': '25%',
                        'H': '30%'
                    }[errorLevel] || '15%';
                    infoError.textContent = errorText;
                    
                    showMessage('‚úÖ QR code g√©n√©r√© avec succ√®s !');
                    
                } catch (error) {
                    console.error('Erreur:', error);
                    showMessage('‚ùå Erreur de g√©n√©ration', 'error');
                    qrPlaceholder.style.display = 'flex';
                }
            }
            
            function getQRColor() {
                if (currentColorType === 'gradient') {
                    switch(currentGradient) {
                        case 'blue-purple': return '#6a11
